{% extends "base.html" %}
{% block content %}
<h2>Preview: {{ cfg.name }} {% if cfg.is_active %}<span class="badge">ACTIVE</span>{% endif %}</h2>

{% if cfg.description %}
<div class="panel">
    <strong>Additional config info:</strong>
    <p class="muted">{{ cfg.description }}</p>
</div>
{% endif %}

<div class="actions">
    <a class="btn" href="{{ url_for('edit_config', config_id=cfg.id) }}">Edit</a>
    <a class="btn" href="{{ url_for('export_config', config_id=cfg.id) }}">Export JSON</a>
    <button class="btn" hx-post="{{ url_for('set_active_config', config_id=cfg.id) }}" hx-swap="none">Set as default
    </button>
</div>

<h3>Active Models</h3>
<div class="panel">
    <pre class="pre">{{ pretty.active_models }}</pre>
</div>

<h3>Models with providers</h3>
<div class="panel">
    <details>
        <summary>Google</summary>
        <pre class="pre">{{ pretty.google_models }}</pre>
    </details>
</div>

<div class="panel">
    <details>
        <summary>OpenAI</summary>
        <pre class="pre">{{ pretty.openai_models }}</pre>
    </details>
</div>

<div class="panel">
    <details>
        <summary>Qwen</summary>
        <pre class="pre">{{ pretty.qwen_models }}</pre>
    </details>
</div>

{% endblock %}